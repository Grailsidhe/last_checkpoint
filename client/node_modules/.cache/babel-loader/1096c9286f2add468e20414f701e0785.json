{"ast":null,"code":"import _toConsumableArray from\"C:/Users/FiercePC/Desktop/checkpoint/last_checkpoint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/FiercePC/Desktop/checkpoint/last_checkpoint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from'axios';import BlogPost from\"./BlogPost\";import\"./css/Blog.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Blog(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),keywLinks=_useState4[0],setKeywLinks=_useState4[1];useEffect(function(){axios.get(\"/api/blogposts\").then(function(response){return setData(response.data.reverse());}).catch(function(error){console.log(error);});},[]);useEffect(function(){var tempKeywords=[];var filteredKeywords=[];data&&data.forEach(function(item){var separate=item.keywords.split(\",\");tempKeywords.push.apply(tempKeywords,_toConsumableArray(separate));var sort=tempKeywords.filter(function(v,i,a){return a.indexOf(v)===i;});filteredKeywords.push.apply(filteredKeywords,_toConsumableArray(sort));setKeywLinks(filteredKeywords);console.log(\"temps\",tempKeywords);console.log(\"sorted\",filteredKeywords);});},[data]);console.log(\"arr\",keywLinks);console.log(\"data\",data);return/*#__PURE__*/_jsxs(\"div\",{className:\"Blog-wrapper\",children:[\"Blog\",/*#__PURE__*/_jsx(\"div\",{className:\"Blog-keywords\",children:keywLinks}),data&&data.map(function(item,i){return/*#__PURE__*/_jsx(BlogPost,{title:item.title,date:item.date,postbody:item.postbody,picture:item.picture,keywords:item.keywords},i);})]});};","map":{"version":3,"sources":["C:/Users/FiercePC/Desktop/checkpoint/last_checkpoint/client/src/components/Blog.js"],"names":["React","useState","useEffect","axios","BlogPost","Blog","data","setData","keywLinks","setKeywLinks","get","then","response","reverse","catch","error","console","log","tempKeywords","filteredKeywords","forEach","item","separate","keywords","split","push","sort","filter","v","i","a","indexOf","map","title","date","postbody","picture"],"mappings":"4WAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAO,gBAAP,C,wFAEA,cAAe,SAASC,CAAAA,IAAT,EAAgB,CAE3B,cAAwBJ,QAAQ,EAAhC,wCAAOK,IAAP,eAAaC,OAAb,eACA,eAAkCN,QAAQ,CAAC,EAAD,CAA1C,yCAAOO,SAAP,eAAkBC,YAAlB,eAEAP,SAAS,CAAC,UAAM,CACZC,KAAK,CACAO,GADL,mBAEKC,IAFL,CAEU,SAACC,QAAD,QAAcL,CAAAA,OAAO,CAACK,QAAQ,CAACN,IAAT,CAAcO,OAAd,EAAD,CAArB,EAFV,EAGKC,KAHL,CAGW,SAACC,KAAD,CAAW,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACH,CALL,EAMH,CAPQ,CAON,EAPM,CAAT,CASAb,SAAS,CAAC,UAAM,CACZ,GAAMgB,CAAAA,YAAY,CAAG,EAArB,CACA,GAAMC,CAAAA,gBAAgB,CAAG,EAAzB,CAEAb,IAAI,EAAIA,IAAI,CAACc,OAAL,CAAa,SAACC,IAAD,CAAS,CAE1B,GAAMC,CAAAA,QAAQ,CAAGD,IAAI,CAACE,QAAL,CAAcC,KAAd,CAAoB,GAApB,CAAjB,CACAN,YAAY,CAACO,IAAb,OAAAP,YAAY,oBAASI,QAAT,EAAZ,CAEA,GAAMI,CAAAA,IAAI,CAAGR,YAAY,CAACS,MAAb,CAAoB,SAACC,CAAD,CAAIC,CAAJ,CAAOC,CAAP,QAAaA,CAAAA,CAAC,CAACC,OAAF,CAAUH,CAAV,IAAiBC,CAA9B,EAApB,CAAb,CACAV,gBAAgB,CAACM,IAAjB,OAAAN,gBAAgB,oBAASO,IAAT,EAAhB,CAEAjB,YAAY,CAACU,gBAAD,CAAZ,CAEAH,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBC,YAArB,EACAF,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBE,gBAAtB,EACH,CAZO,CAAR,CAaH,CAjBQ,CAiBN,CAACb,IAAD,CAjBM,CAAT,CAmBAU,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBT,SAAnB,EACAQ,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBX,IAApB,EAEA,mBACI,aAAK,SAAS,CAAC,cAAf,+BAEI,YAAK,SAAS,CAAC,eAAf,UAAgCE,SAAhC,EAFJ,CAGKF,IAAI,EAAIA,IAAI,CAAC0B,GAAL,CAAS,SAACX,IAAD,CAAOQ,CAAP,CAAY,CAC1B,mBACI,KAAC,QAAD,EAEI,KAAK,CAAER,IAAI,CAACY,KAFhB,CAGI,IAAI,CAAEZ,IAAI,CAACa,IAHf,CAII,QAAQ,CAAEb,IAAI,CAACc,QAJnB,CAKI,OAAO,CAAEd,IAAI,CAACe,OALlB,CAMI,QAAQ,CAAEf,IAAI,CAACE,QANnB,EACSM,CADT,CADJ,CASE,CAVG,CAHb,GADJ,CAkBH","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\nimport BlogPost from \"./BlogPost\";\r\nimport \"./css/Blog.css\";\r\n\r\nexport default function Blog() {\r\n\r\n    const [data, setData] = useState();\r\n    const [keywLinks, setKeywLinks] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get(`/api/blogposts`)\r\n            .then((response) => setData(response.data.reverse()))\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const tempKeywords = []\r\n        const filteredKeywords = []\r\n\r\n        data && data.forEach((item)=> {\r\n            \r\n            const separate = item.keywords.split(\",\")\r\n            tempKeywords.push(...separate);\r\n\r\n            const sort = tempKeywords.filter((v, i, a) => a.indexOf(v) === i)\r\n            filteredKeywords.push(...sort);\r\n\r\n            setKeywLinks(filteredKeywords);\r\n\r\n            console.log(\"temps\", tempKeywords)\r\n            console.log(\"sorted\", filteredKeywords)\r\n        })\r\n    }, [data]);\r\n\r\n    console.log(\"arr\", keywLinks)\r\n    console.log(\"data\", data)\r\n    \r\n    return (\r\n        <div className=\"Blog-wrapper\">\r\n            Blog\r\n            <div className=\"Blog-keywords\">{keywLinks}</div>\r\n            {data && data.map((item, i)=> {\r\n                return ( \r\n                    <BlogPost \r\n                        key={i}\r\n                        title={item.title}\r\n                        date={item.date}\r\n                        postbody={item.postbody}\r\n                        picture={item.picture}\r\n                        keywords={item.keywords}\r\n                    />\r\n                )}\r\n            )}\r\n        </div>\r\n    )\r\n};"]},"metadata":{},"sourceType":"module"}