{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/FiercePC/desktop/checkpoint/last_checkpoint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/FiercePC/desktop/checkpoint/last_checkpoint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/FiercePC/desktop/checkpoint/last_checkpoint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from\"axios\";import\"./css/Admin.css\";import Offcanvas from'react-bootstrap/Offcanvas';import{Link}from\"react-router-dom\";// import Context from './Context';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminLogin(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};// const { token, setToken } = useContext(Context);\nvar _useState3=useState(),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];/* Show/Hide password field */var showPw=function showPw(){var pw=document.getElementById(\"pwbox\");pw.type===\"password\"?pw.type=\"text\":pw.type=\"password\";};/* Clears forms and states */var clearForm=function clearForm(){var inputs=document.querySelectorAll(\"input,select,textarea\");inputs.forEach(function(item){return item.value=\"\";});setName(),setEmail(),setSubject(),setMessage(),setSubmit();};var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return loginUser({username:username,password:password});case 3:token=_context.sent;setToken(token);setTimeout(function(){return clearForm();},1000);// axios.post(`/api/contact`, {username: username, password: password})\n// .then((res)=>{\n//     console.log(res);\n//     setTimeout(()=> clearForm(), 1000);\n// })\n// .catch((err)=>{\n//     console.log(err);\n// })\ncase 6:case\"end\":return _context.stop();}}},_callee);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();// Validation\nfunction loginUser(_x2){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(credentials){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",fetch('http://localhost:5000/admin',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(credentials)}).then(function(data){return data.json();}));case 1:case\"end\":return _context2.stop();}}},_callee2);}));return _loginUser.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"AdminLogin-wrapper\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"pointer\",variant:\"primary\",onClick:handleShow,children:\"Admin\"}),/*#__PURE__*/_jsxs(Offcanvas,{show:show,onHide:handleClose,placement:\"end\",className:\"AdminLogin-page\",children:[/*#__PURE__*/_jsx(Offcanvas.Header,{closeButton:true}),/*#__PURE__*/_jsx(Offcanvas.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"Admin-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"AdminLogin-title\",children:\"Log In\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"AdminLogin-form\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"Admin-input\",type:\"text\",name:\"username\",placeholder:\"username\",onChange:function onChange(e){setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"Admin-input\",type:\"password\",name:\"password\",id:\"pwbox\",placeholder:\"password\",onChange:function onChange(e){setPassword(e.target.value);}}),/*#__PURE__*/_jsxs(\"span\",{style:{margin:\"0px 20px 0 10px\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"pw-checkbox\",onClick:showPw}),\"\\xA0Show Password\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"Admin-button\",onClick:handleLogin,children:\"LOGIN\"}),/*#__PURE__*/_jsx(Link,{to:\"/admin\",children:\"Admin\"})]})})]})]});};","map":{"version":3,"sources":["C:/Users/FiercePC/desktop/checkpoint/last_checkpoint/client/src/components/AdminLogin.js"],"names":["React","useState","axios","Offcanvas","Link","AdminLogin","show","setShow","handleClose","handleShow","username","setUsername","password","setPassword","showPw","pw","document","getElementById","type","clearForm","inputs","querySelectorAll","forEach","item","value","setName","setEmail","setSubject","setMessage","setSubmit","handleLogin","e","preventDefault","loginUser","token","setToken","setTimeout","credentials","fetch","method","headers","body","JSON","stringify","then","data","json","target","margin"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./css/Admin.css\";\r\nimport Offcanvas from 'react-bootstrap/Offcanvas'\r\nimport { Link } from \"react-router-dom\";\r\n// import Context from './Context';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function AdminLogin() {\r\n    const [show, setShow] = useState(false);\r\n  \r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n  \r\n    // const { token, setToken } = useContext(Context);\r\n    const [username, setUsername] = useState();\r\n    const [password, setPassword] = useState();\r\n\r\n    /* Show/Hide password field */\r\n    const showPw = ()=> {\r\n        const pw = document.getElementById(\"pwbox\");\r\n        pw.type === \"password\" ? pw.type = \"text\" : pw.type = \"password\"\r\n    };\r\n\r\n    /* Clears forms and states */\r\n    const clearForm = ()=>{\r\n        const inputs = document.querySelectorAll(\"input,select,textarea\");\r\n        inputs.forEach((item) => (item.value = \"\"));\r\n        setName(), setEmail(), setSubject(), setMessage(), setSubmit()\r\n    };\r\n\r\n    const handleLogin = async (e)=>{\r\n        e.preventDefault();\r\n        const token = await loginUser({\r\n            username,\r\n            password\r\n        });\r\n        setToken(token);\r\n        setTimeout(()=> clearForm(), 1000);\r\n\r\n        // axios.post(`/api/contact`, {username: username, password: password})\r\n        // .then((res)=>{\r\n        //     console.log(res);\r\n        //     setTimeout(()=> clearForm(), 1000);\r\n        // })\r\n        // .catch((err)=>{\r\n        //     console.log(err);\r\n        // })\r\n    };\r\n\r\n    // Validation\r\n    async function loginUser(credentials) {\r\n        return fetch('http://localhost:5000/admin', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(credentials)\r\n        })\r\n          .then(data => data.json())\r\n       }\r\n\r\n\r\n    return (\r\n        <div className=\"AdminLogin-wrapper\">\r\n            <span className=\"pointer\" variant=\"primary\" onClick={handleShow}>\r\n                Admin\r\n            </span>\r\n    \r\n            <Offcanvas show={show} onHide={handleClose} placement='end' className=\"AdminLogin-page\">\r\n            <Offcanvas.Header closeButton>\r\n            </Offcanvas.Header>\r\n            <Offcanvas.Body>\r\n                <div className=\"Admin-wrapper\">\r\n                <div className=\"AdminLogin-title\">Log In</div>\r\n                    <div className=\"AdminLogin-form\">\r\n                        <input \r\n                        className=\"Admin-input\" \r\n                        type=\"text\"\r\n                        name=\"username\"\r\n                        placeholder=\"username\"\r\n                        onChange={(e) => {\r\n                        setUsername(e.target.value)\r\n                        }}\r\n                        />\r\n                        <input \r\n                        className=\"Admin-input\" \r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        id=\"pwbox\"\r\n                        placeholder=\"password\"\r\n                        onChange={(e) => {\r\n                        setPassword(e.target.value)\r\n                        }}\r\n                        />\r\n                        <span style={{margin: \"0px 20px 0 10px\"}}>\r\n                            <input type=\"checkbox\" className=\"pw-checkbox\" onClick={showPw} />&nbsp;Show Password\r\n                        </span>\r\n                    </div>\r\n                    <button className=\"Admin-button\" onClick={handleLogin}>LOGIN</button>\r\n            \r\n                    <Link to=\"/admin\">Admin</Link>\r\n\r\n                </div>\r\n            </Offcanvas.Body>\r\n            </Offcanvas>\r\n        </div>\r\n    );\r\n  };\r\n\r\n  AdminLogin.propTypes = {\r\n    setToken: PropTypes.func.isRequired\r\n  }"]},"metadata":{},"sourceType":"module"}